# -*- coding: utf-8 -*-
# vim: ft=yaml
# yamllint disable rule:comments-indentation
---
huginn:
  install:
      # Install rootless containers running as dedicated user.
    rootless: true
      # When applying `clean` states, also remove application data.
      # Setting this to true might incur accidental data loss!
    remove_all_data_for_sure: false
  config:
      # Agent gems can be added to Huginn. The gem version and arguments for the
      # gem command are optional. When not providing a git(hub) repository the gem
      # needs to be published to rubygems.org.
      # Check http://bundler.io/v1.11/git.html for a list of valid arguments.
    additional_gems: []
      # Number of lines of log messages to keep per Agent
    agent_log_length: 200
      # If REQUIRE_CONFIRMED_EMAIL is true, set this to the duration in which a user
      # needs to confirm their email address.
    allow_unconfirmed_access_for: 2.days
      # This will be autogenerated if unset.
    app_secret_token: null
      # Optionally set an asset host
    asset_host: null
      # AWS Credentials for MTurk
    aws:
      access_key: null
      access_key_id: null
      sandbox: false
      # https://github.com/huginn/huginn/blob/master/doc/manual/capistrano.md#readme
    capistrano:
      deploy_repo_url: null
      deploy_server: null
      deploy_user: null
      # Duration for which an email address confirmation token is valid
    confirm_within: 3.days
    database:
      adapter: mysql2
      encoding: utf8mb4
      host: db
      name: huginn
      password: null
      pool: 20
      port: 3306
      reconnect: true
      socket: null
      username: huginn
    default_http_user_agent: Huginn - https://github.com/huginn/huginn
      # Users can be given a default set of agents to get them started.
      # You can override this scenario with your own scenario via file path or URL
    default_scenario_file: null
      # Maximum runtime of background jobs in minutes
    delayed_job_max_runtime: 2
      # Amount of seconds for delayed_job to sleep before checking for new jobs
    delayed_job_sleep_delay: 10
      # Default layout for agent flow diagrams generated by Graphviz.
      # Choose from `circo`, `dot` (default), `fdp`, `neato`, `osage`,
      # `patchwork`, `sfdp`, or `twopi`.  Note that not all layouts are
      # supported by Graphviz depending on the build options.
    diagram_default_layout: dot
      # This is specific to the container image.
    do_not_create_database: true
    domain: localhost:6144
      # https://github.com/huginn/huginn/wiki/Configuring-OAuth-applications
    dropbox:
      oauth_key: null
      oauth_secret: null
      # The address from which system emails will appear to be sent.
    email_from_address: from_address@gmail.com
      # Enable this setting to allow insecure Agents like the ShellCommandAgent.  Only do this
      # when you trust everyone using your Huginn installation.
    enable_insecure_agents: false
      # Enable this setting to allow second precision schedule in
      # SchedulerAgent.  By default, the use of the "second" field is
      # restricted so that any value other than a single zero (which means
      # "on the minute") is disallowed to prevent abuse of service.
    enable_second_precision_schedule: false
      # Specify the frequency with which the scheduler checks for and cleans up expired events.
      # You can use `m` for minutes, `h` for hours, and `d` for days.
    event_expiration_check: 6h
      # https://github.com/huginn/huginn/wiki/Configuring-OAuth-applications
    evernote:
      oauth_key: null
      oauth_secret: null
    failed_jobs_to_keep: 100
      # Specify the HTTP backend library for Faraday, commonly used by
      # WebsiteAgent, RssAgent and PostAgent.  You can change this depending
      # on the performance and stability you need for your service.  Any
      # choice other than "typhoeus", "net_http", or "em_http" should
      # require you to bundle a corresponding gem via Gemfile.
    faraday_http_backend: typhoeus
      # Should Rails force all requests to use SSL?
    force_ssl: false
      # https://github.com/huginn/huginn/wiki/Configuring-OAuth-applications
    github:
      oauth_key: null
      oauth_secret: null
    google_client:
      id: null
      secret: null
      # Set to 'true' if you would prefer new users to start with
      # a default set of agents
    import_default_scenario_for_all_users: false
      # This invitation code will be required for users to signup with your
      # Huginn installation. Will be autogenerated if unset.
    invitation_code: null
      # Set to 'failed_attempts' to lock user accounts for the UNLOCK_AFTER period they
      # fail MAX_FAILED_LOGIN_ATTEMPTS login attempts. Set to 'none' to allow
      # unlimited failed login attempts.
    lock_strategy: failed_attempts
      # After how many failed login attempts the account is locked when
      # LOCK_STRATEGY is set to failed_attempts.
    max_failed_login_attempts: 10
    min_password_length: 8
    port: 6144
    rails_env: production
      # Duration for which the user will be remembered without asking for
      # credentials again.
    remember_for: 4.weeks
      # If you'd like to require new users to confirm their email address
      # after sign up, set this to true.
    require_confirmed_email: false
      # Duration for which the reset password token is valid
    reset_password_within: 6.hours
      # Specify the scheduler frequency in seconds (default: 0.3).
      # Increasing this value will help reduce the use of system resources
      # at the expense of time accuracy.
    scheduler_frequency: 0.3
    send_email_in_development: false
      # If you don't want to require new users to have an invitation code
      # in order to sign up, set this to true.
    skip_invitation_code: false
    smtp:
      authentication: plain
        # Set this to `sendmail` if you want to use `/usr/sbin/sendmail` to
        # send email instead of SMTP. This option is ignored unless
        # RAILS_ENV=production, and setting it to `sendmail` causes the settings
        # in the rest of this section (except EMAIL_FROM_ADDRESS) to be ignored.
      delivery_method: null
      domain: your-domain-here.com
      enable_starttls_auto: true
      password: somepassword
      port: 587
      server: smtp.gmail.com
      ssl: false
      user_name: you@gmail.com
      # https://github.com/huginn/huginn/wiki/Configuring-OAuth-applications
    thirty_seven_signals:
      oauth_key: null
      oauth_secret: null
      # Timezone. Use `rake time:zones:local` or `rake time:zones:all` to get
      # your zone name.
    timezone: Pacific Time (US & Canada)
      # https://github.com/huginn/huginn/wiki/Configuring-OAuth-applications
    tumblr:
      oauth_key: null
      oauth_secret: null
    twitter:
      oauth_key: null
      oauth_secret: null
      # Duration after which the user is unlocked when UNLOCK_STRATEGY is
      # 'both' or 'time' and LOCK_STRATEGY is 'failed_attempts'
    unlock_after: 1.hour
      # Can be set to 'email', 'time', 'both' or 'none'. 'none' requires
      # manual unlocking of your users!
    unlock_strategy: both
    use_evernote_sandbox: false
      # Use Graphviz for generating diagrams instead of using Google Chart
      # Tools.  Specify a dot(1) command path built with SVG support enabled.
    use_graphviz_dot: dot
      # Enable JqAgent which uses jq.  Specify a file path to the jq(1)
      # command or just `jq`.  This is not enabled by default because jq can
      # cause infinite loop and is not suitable for public service.
      # Only uncomment this when you trust everyone using your Huginn
      # installation.
    use_jq: jq

  lookup:
    rootgroup: root
    compose:
      create_pod: null
      pod_args: null
      project_name: huginn
      remove_orphans: true
      service:
        container_prefix: null
        ephemeral: true
        pod_prefix: null
        restart_policy: on-failure
        separator: null
        stop_timeout: null
    paths:
      base: /opt/containers/huginn
      compose: docker-compose.yml
      config_huginn: huginn.env
      config_db: db.env
      db: db
    user:
      groups: []
      home: null
      name: huginn
      shell: /usr/sbin/nologin
      uid: null
    containers:
      db:
        image: docker.io/library/mariadb
      huginn:
        image: docker.io/huginn/huginn:latest

  tofs:
      # The files_switch key serves as a selector for alternative
      # directories under the formula files directory. See TOFS pattern
      # doc for more info.
      # Note: Any value not evaluated by `config.get` will be used literally.
      # This can be used to set custom paths, as many levels deep as required.
    files_switch:
      - any/path/can/be/used/here
      - id
      - roles
      - osfinger
      - os
      - os_family

      # All aspects of path/file resolution are customisable using the options below.
      # This is unnecessary in most cases; there are sensible defaults.
      # Default path: salt://< path_prefix >/< dirs.files >/< dirs.default >
      # I.e.: salt://huginn/files/default
      # path_prefix: template_alt
      # dirs:
      #   files: files_alt
      #   default: default_alt
      # The entries under `source_files` are prepended to the default source files
      # given for the state
    source_files:
      Huginn compose file is managed:
        - docker-compose_alt.yml
        - docker-compose_alt.yml.j2
      huginn environment file is managed:
        - huginn_alt.env
        - huginn_alt.env.j2
      db environment file is managed:
        - db_alt.env
        - db_alt.env.j2
